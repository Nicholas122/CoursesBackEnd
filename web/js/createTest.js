webpackJsonp([1],{D4e7:function(t,e){},"F2+W":function(t,e){},FWlT:function(t,e){},M2W7:function(t,e,s){"use strict";var n={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};e.a=n},M93x:function(t,e,s){"use strict";var n=s("xJD8"),i=s.n(n),r=s("M2W7");var o=function(t){s("F2+W")},a=s("VU/8")(i.a,r.a,!1,o,null,null);e.default=a.exports},N1ci:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};s.d(n,"setQuestionType",function(){return p}),s.d(n,"addQuestion",function(){return f}),s.d(n,"deleteQuestion",function(){return T}),s.d(n,"addAnswer",function(){return h}),s.d(n,"deleteAnswer",function(){return g}),s.d(n,"addReadingQuestion",function(){return E}),s.d(n,"deleteReadingQuestion",function(){return q}),s.d(n,"setReadingText",function(){return C}),s.d(n,"setTestTitle",function(){return w}),s.d(n,"setTestDescription",function(){return x}),s.d(n,"setTestSection",function(){return S}),s.d(n,"setTestTimeLimit",function(){return I}),s.d(n,"setTestRate",function(){return b}),s.d(n,"setTestRetakeTimeout",function(){return y}),s.d(n,"fetchSections",function(){return Q}),s.d(n,"mergeTestData",function(){return R}),s.d(n,"createTestRequest",function(){return A}),s.d(n,"editTestRequest",function(){return D}),s.d(n,"fetchTest",function(){return N}),s.d(n,"fetchQuestion",function(){return U}),s.d(n,"setCourseId",function(){return k}),s.d(n,"editQuestion",function(){return L}),s.d(n,"saveQuestion",function(){return O});var i={};s.d(i,"USER_INPUT",function(){return H}),s.d(i,"MULTIPLE_CHOICE",function(){return X}),s.d(i,"READING_TEXT",function(){return V});var r,o=s("7+uW"),a=s("M93x"),u=s("fZjL"),c=s.n(u),d=s("NYxO"),l=s("pFYg"),v=s.n(l),m=s("mtWM"),_=s.n(m).a.create({baseURL:"/api/"}),p=function(t,e){return(0,t.commit)("SET_QUESTION_TYPE",e)},f=function(t,e){return(0,t.commit)("ADD_QUESTION",e)},T=function(t,e){return(0,t.commit)("DELETE_QUESTION",{id:e})},h=function(t,e){return(0,t.commit)("ADD_ANSWER",e)},g=function(t,e){return(0,t.commit)("DELETE_ANSWER",{uid:e})},E=function(t,e){return(0,t.commit)("ADD_READING_QUESTION",e)},q=function(t,e){return(0,t.commit)("DELETE_READING_QUESTION",{id:e})},C=function(t,e){return(0,t.commit)("SET_READING_TEXT",e)},w=function(t,e){return(0,t.commit)("SET_TEST_TITLE",e)},x=function(t,e){return(0,t.commit)("SET_TEST_DESCRIPTION",e)},S=function(t,e){return(0,t.commit)("SET_TEST_SECTION",e)},I=function(t,e){return(0,t.commit)("SET_TEST_TIME_LIMIT",e)},b=function(t,e){return(0,t.commit)("SET_TEST_RATE",e)},y=function(t,e){return(0,t.commit)("SET_TEST_RETAKE_TIMEOUT",e)},Q=function(t,e){var s=t.commit;return function(t){return _.get("/sections?course="+t).then(function(t){return t.data})}(e).then(function(t){return s("SET_SECTIONS",t)})},R=function(t){(0,t.commit)("MERGE_TEST_DATA")},A=function(t,e){var s=t.commit;return s("CREATE_TEST_REQUEST"),"object"===v()(e.section)&&(e.section=e.section.id),function(t){return _.post("/test",t).then(function(t){return location.replace("/course/"+t.data.section.course.id)})}(e).then(function(t){return s("CREATE_TEST_SUCCESSFUL",{data:t})}).catch(function(t){return s("CREATE_TEST_FAILURE",{errors:t})})},D=function(t,e){var s=t.commit;return s("EDIT_TEST_REQUEST"),function(t,e){return _.put("/test/"+e,t.data).then(function(t){return location.replace("/course/"+t.data.section.course.id)})}(e,e.data.id).then(function(t){return s("EDIT_TEST_SUCCESSFUL",{data:t})}).catch(function(t){return s("EDIT_TEST_FAILURE",{errors:t})})},N=function(t,e){var s=t.commit;return function(t){return _.get("/test/"+t)}(e).then(function(t){return s("SET_TEST_DATA",t)})},U=function(t,e){var s=t.commit;return function(t){return _.get("/questions?test="+t).then(function(t){return t.data})}(e).then(function(t){return s("SET_QUESTION_DATA",t)})},k=function(t,e){(0,t.commit)("SET_COURSE_ID",e)},L=function(t,e){(0,t.commit)("FETCH_EDIT_QUESTION",e)},O=function(t,e){(0,t.commit)("EDIT_QUESTION",e)},P=s("bOdI"),$=s.n(P),M=s("woOf"),F=s.n(M),j=s("Dd8w"),G=s.n(j),W=(r={},$()(r,"SET_QUESTION_TYPE",function(t,e){if(t.questionType=e,"MULTIPLE_CHOICE"===e)for(var s=3;s>=0;s--)t.answers.push({text:"",correct:"",questionId:t.questionId});if("READING_TEXT"===e){t.readingQuestions.push({answers:[],id:1,questionTest:"",questionWeight:1});for(s=3;s>=0;s--)t.answers.push({text:"",correct:"",questionId:1})}}),$()(r,"DELETE_QUESTION",function(t,e){var s=e.id;t.questions=t.questions.filter(function(t){return t.id!==s})}),$()(r,"ADD_QUESTION",function(t,e){if(e.id=t.questionId,e.type=t.questionType,"READING_TEXT"===e.type){for(var s=t.readingQuestions.length-1;s>=0;s--)t.readingQuestions[s].answers=t.answers.filter(function(e){return e.questionId===t.readingQuestions[s].id});e.subQuestions=t.readingQuestions,e.readingText=t.readingText,t.readingQuestions=[],t.readingText=""}else e.answers=t.answers.filter(function(t){return t.questionId===e.id});t.answers=[],t.questions.push(e);var n=parseInt(Math.max.apply(Math,t.questions.map(function(t){return t.id})))||0;t.questionId=n+1}),$()(r,"DELETE_ANSWER",function(t,e){var s=e.uid;t.answers=t.answers.filter(function(t){return t.uid!==s})}),$()(r,"ADD_ANSWER",function(t,e){parseInt(Math.max.apply(Math,t.answers.filter(function(t){return t.questionId===e.questionId}).map(function(t){return t.id})));var s=parseInt(Math.max.apply(Math,t.answers.map(function(t){return t.uid})))||0;e.uid=s+1,t.answers.push(e)}),$()(r,"SET_READING_TEXT",function(t,e){t.readingText=e}),$()(r,"DELETE_READING_QUESTION",function(t,e){var s=e.id;t.readingQuestions=t.readingQuestions.filter(function(t){return t.id!==s}),t.questionId--}),$()(r,"ADD_READING_QUESTION",function(t,e){e.id=t.questionId,e.answers=t.answers.filter(function(t){return t.questionId===e.id}),t.readingQuestions.push(e),t.questionId++}),$()(r,"SET_SECTIONS",function(t,e){t.sections=e,t.test.creating&&(t.test.data.section=e[0])}),$()(r,"CREATE_TEST_REQUEST",function(t){t.test.creating=!0}),$()(r,"CREATE_TEST_SUCCESSFUL",function(t){t.questions=[],t.test={fetching:!1,creating:!1,error:!1,errors:{},data:{title:"",questions:[],description:"",section:"",timeLimit:"",passingScorePercent:"",retakeTimeout:""}}}),$()(r,"CREATE_TEST_FAILURE",function(t,e){t.test.creating=!1,t.test.error=!0,t.test.errors=e.errors.response.data.form.children,t.test.data.section=t.sections.find(function(e){return e.id===t.test.data.section})}),$()(r,"EDIT_TEST_REQUEST",function(t){t.test.creating=!0}),$()(r,"EDIT_TEST_SUCCESSFUL",function(t){t.questions=[],t.test={fetching:!1,creating:!1,error:!1,errors:{},data:{title:"",questions:[],description:"",section:"",timeLimit:"",passingScorePercent:"",retakeTimeout:""}}}),$()(r,"EDIT_TEST_FAILURE",function(t,e){t.test.creating=!1,t.test.error=!0,t.test.errors=e.errors.response.data.form.children}),$()(r,"SET_TEST_TITLE",function(t,e){t.test.data.title=e}),$()(r,"SET_TEST_TITLE",function(t,e){t.test.data.title=e}),$()(r,"SET_TEST_DESCRIPTION",function(t,e){t.test.data.description=e}),$()(r,"SET_TEST_SECTION",function(t,e){t.test.data.section=e}),$()(r,"SET_TEST_TIME_LIMIT",function(t,e){t.test.data.timeLimit=e}),$()(r,"SET_TEST_RATE",function(t,e){t.test.data.passingScorePercent=e}),$()(r,"SET_TEST_RETAKE_TIMEOUT",function(t,e){t.test.data.retakeTimeout=e}),$()(r,"MERGE_TEST_DATA",function(t){t.test.data.questions=t.questions}),$()(r,"SET_TEST_DATA",function(t,e){t.courseId=e.data.section.course.id,t.test.data.title=e.data.title,t.test.data.description=e.data.description,t.test.data.section=e.data.section,t.test.data.timeLimit=e.data.timeLimit,t.test.data.passingScorePercent=e.data.passingScorePercent,t.test.data.retakeTimeout=e.data.retakeTimeout,t.test.creating=!1,t.test.updating=!0}),$()(r,"SET_QUESTION_DATA",function(t,e){t.questions=e;var s=parseInt(Math.max.apply(Math,t.questions.map(function(t){return t.id})))||0;t.questionId=s+1}),$()(r,"SET_COURSE_ID",function(t,e){t.courseId=e}),$()(r,"EDIT_QUESTION",function(t,e){"USER_INPUT"===t.questionType&&(t.answers=[]),e.answers=t.answers,e.type=t.questionType,t.answers=[],"READING_TEXT"===t.questionType&&(e.subQuestions=t.readingQuestions,e.readingText=t.readingText,t.readingQuestions=[],t.readingText=""),t.questions=t.questions.map(function(t){return t.id!==e.id?t:G()({},t,e)}),t.editedQuestion={},t.questionComponent="add-question"}),$()(r,"FETCH_EDIT_QUESTION",function(t,e){if(t.questionComponent="edit-question",t.editedQuestion=F()({},t.questions.find(function(t){return t.id===e})),t.questionType=t.editedQuestion.type,"READING_TEXT"===t.editedQuestion.type){t.readingText=t.editedQuestion.readingText,t.readingQuestions=t.editedQuestion.subQuestions.slice();for(var s=t.readingQuestions.length-1;s>=0;s--){var n=t.readingQuestions[s].answers.slice();t.answers=t.answers.concat(n).slice()}}else t.answers=t.editedQuestion.answers.slice()}),r),H="User input",X="Multiply choice",V="Reading text";s("M4fF");o.a.use(d.a);var B={test:{fetching:!1,updating:!1,creating:!0,error:!1,errors:{},data:{id:"",title:"",questions:[],description:"",section:"",timeLimit:0,passingScorePercent:"",retakeTimeout:0}},questionType:c()(i)[0],questions:[],answers:[],readingQuestions:[],readingText:"",sections:[],courseId:"",questionComponent:"add-question",editedQuestion:{},questionId:1,readingTextQuestionErrors:[]},J=new d.a.Store({state:B,mutations:W,actions:n,getters:{getReadingText:function(t){return t.readingText},getAnswersByQuestionId:function(t){return function(e){return t.answers.filter(function(t){return t.questionId===e})}},getTestTitle:function(t){return t.test.data.title},getTestDescription:function(t){return t.test.data.description},getTestSection:function(t){return t.test.data.section.id},getTestTimeLimit:function(t){return t.test.data.timeLimit},getTestRetakeTimeout:function(t){return t.test.data.retakeTimeout},getTestRate:function(t){return t.test.data.passingScorePercent},getQuestionText:function(t){return t.test.data.title}}}),Y=s("/ocq"),K=s("yekR"),Z={props:["headerTitle"],components:{MaskedInput:s.n(K).a},methods:G()({},Object(d.b)(["fetchSections","setTestTitle","setTestDescription","setTestSection","setTestTimeLimit","setTestRate","setTestRetakeTimeout"])),mounted:function(){this.fetchSections(this.$store.state.courseId)},computed:G()({},Object(d.c)(["getTestTitle","getTestDescription","getTestSection","getTestTimeLimit","getTestRetakeTimeout","getTestRate"]),Object(d.d)({sections:function(t){return t.sections},requestErrors:function(t){return t.test.errors}}),{title:{get:function(){return this.getTestTitle},set:function(t){return this.setTestTitle(t)}},description:{get:function(){return this.getTestDescription},set:function(t){return this.setTestDescription(t)}},section:{get:function(){return this.getTestSection},set:function(t){return this.setTestSection(t)}},timeLimit:{get:function(){return this.getTestTimeLimit},set:function(t){return this.setTestTimeLimit(t)}},testRate:{get:function(){return this.getTestRate},set:function(t){return this.setTestRate(t)}},retakeTimeout:{get:function(){return this.getTestRetakeTimeout},set:function(t){return this.setTestRetakeTimeout(t)}}})},z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-12"},[s("h2",{staticClass:"page-header"},[t._v(t._s(t.headerTitle))]),t._v(" "),s("form",{staticClass:"form-group"},[s("div",{staticClass:"testBorder"},[s("div",{staticClass:"testLimits"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("label",{attrs:{for:"lTitle"}},[t._v("Title")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],class:["form-control",{"has-error":t.requestErrors.title,valid:!t.requestErrors.title}],attrs:{id:"lTitle",name:"lTitle",type:"text",maxlength:"300",placeholder:"Max length 300"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),t.requestErrors.title?s("span",{staticClass:"error-message"},[t._v("\n                "+t._s(t.requestErrors.title)+"\n              ")]):t._e()]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("label",{attrs:{for:"lDescription"}},[t._v("Description")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],class:["form-control",{"has-error":t.requestErrors.description,valid:!t.requestErrors.description}],attrs:{id:"lDescription",name:"lDescription",type:"text",maxlength:"500",placeholder:"Max length 500"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),t._v(" "),t.requestErrors.description?s("span",{staticClass:"error-message"},[t._v("\n                "+t._s(t.requestErrors.description)+"\n              ")]):t._e()]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("label",{attrs:{for:"CourseSection"}},[t._v("Select Section")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.section,expression:"section"}],class:["form-control",{"has-error":t.requestErrors.section,valid:!t.requestErrors.section}],attrs:{name:"CourseSection",id:"CourseSection"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.section=e.target.multiple?s:s[0]}}},t._l(t.sections,function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),t._v(" "),t.requestErrors.section?s("span",{staticClass:"error-message"},[t._v("\n              "+t._s(t.requestErrors.section)+"\n            ")]):t._e()]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("label",{staticClass:"control-label",attrs:{for:"lTimeLimits"}},[t._v("Time limit")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.timeLimit,expression:"timeLimit"}],class:["form-control","timeLimits",{"has-error":t.requestErrors.timeLimit,valid:!t.requestErrors.timeLimit}],attrs:{id:"lTimeLimits",name:"lTimeLimits",type:"number",min:"0",maxlength:"10"},domProps:{value:t.timeLimit},on:{input:function(e){e.target.composing||(t.timeLimit=e.target.value)}}}),t._v(" "),t.requestErrors.timeLimit?s("span",{staticClass:"error-message"},[t._v("\n              "+t._s(t.requestErrors.timeLimit)+"\n            ")]):t._e(),t._v(" "),s("label",{staticClass:"timePHolders"},[t._v("* sets the test time limit in minutes")])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("label",{staticClass:"control-label",attrs:{for:": {\n\n          }lTestRate"}},[t._v("Pass/fail score")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.testRate,expression:"testRate"}],class:["form-control","timeLimits",{"has-error":t.requestErrors.passingScorePercent,valid:!t.requestErrors.passingScorePercent}],attrs:{id:"lTestRate",name:"lTestRate",type:"number",min:"0",max:"100",value:"60"},domProps:{value:t.testRate},on:{input:function(e){e.target.composing||(t.testRate=e.target.value)}}}),t._v(" "),t.requestErrors.passingScorePercent?s("span",{staticClass:"error-message"},[t._v("\n            "+t._s(t.requestErrors.passingScorePercent)+"\n          ")]):t._e(),t._v(" "),s("label",{staticClass:"timePHolders"},[t._v("* passing score in percent")])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("label",{staticClass:"control-label"},[t._v("Retake timeout")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.retakeTimeout,expression:"retakeTimeout"}],class:["form-control","timeLimits",{"has-error":t.requestErrors.retakeTimeout,valid:!t.requestErrors.retakeTimeout}],attrs:{id:"lRetakeTimeout",name:"lRetakeTimeout",type:"number",min:"1",max:"365"},domProps:{value:t.retakeTimeout},on:{input:function(e){e.target.composing||(t.retakeTimeout=e.target.value)}}}),t._v(" "),t.requestErrors.retakeTimeout?s("span",{staticClass:"error-message"},[t._v("\n            "+t._s(t.requestErrors.retakeTimeout)+"\n          ")]):t._e(),t._v(" "),s("label",{staticClass:"timePHolders"},[t._v("* period of time after which a user can retake the test in days")])])]),t._v(" "),t.requestErrors.questions?s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("span",{staticClass:"error-message"},[t._v("\n            "+t._s(t.requestErrors.questions)+"\n          ")])])]):t._e()])])])])},staticRenderFns:[]};var tt=s("VU/8")(Z,z,!1,function(t){s("v3a6")},null,null).exports,et={props:{index:Number,question:Object},methods:G()({},Object(d.b)(["deleteQuestion","editQuestion"]),{removeQuestion:function(){this.deleteQuestion(this.question.id)},getConst:function(t){return i[t]},editQuestions:function(){this.editQuestion(this.question.id)}})},st={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"col-md-12"},[s("h3",[t._v("Question "+t._s(t.index+1))])])]),t._v(" "),s("div",{staticClass:"card-body"},["READING_TEXT"!=t.question.type?s("div",{staticClass:"col-md-12"},[s("p",[s("span",{staticClass:"question-info"},[t._v("Question text:")]),t._v(" "+t._s(t.question.text))]),t._v(" "),s("p",[s("span",{staticClass:"question-info"},[t._v("Question type:")]),t._v(" "+t._s(t.question.type))]),t._v(" "),s("p",[s("span",{staticClass:"question-info"},[t._v("Weight:")]),t._v(" "+t._s(t.question.weight))]),t._v(" "),t.question.answers.length>0?s("span",{staticClass:"question-info"},[t._v("Answers:")]):t._e(),t._v(" "),t._l(t.question.answers,function(e,n){return s("div",{key:e.uid,staticClass:"row marg"},[s("div",{staticClass:"col-lg-1 no-padd text-center"},[s("span",[s("b",[t._v(t._s(n+1)+")")])])]),t._v(" "),s("div",{staticClass:"col-lg-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"answer.text"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Please enter the answer",disabled:""},domProps:{value:e.text},on:{input:function(s){s.target.composing||t.$set(e,"text",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.correct,expression:"answer.correct"}],attrs:{type:"checkbox",id:e.uid,disabled:""},domProps:{checked:Array.isArray(e.correct)?t._i(e.correct,null)>-1:e.correct},on:{change:function(s){var n=e.correct,i=s.target,r=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&t.$set(e,"correct",n.concat([null])):o>-1&&t.$set(e,"correct",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(e,"correct",r)}}})])])})],2):t._e()]),t._v(" "),"READING_TEXT"==t.question.type?s("div",{staticClass:"card-body"},[s("p",[s("span",{staticClass:"question-info"},[t._v("Question text:")]),t._v(" "+t._s(t.question.text))]),t._v(" "),s("p",[s("span",{staticClass:"question-info"},[t._v("Question type:")]),t._v(t._s(t.question.type))]),t._v(" "),s("p",[s("span",{staticClass:"question-info"},[t._v("Reading text:")]),t._v(" "+t._s(t.question.readingText))]),t._v(" "),s("p",[t.question.weight?s("span",{staticClass:"question-info"},[t._v("Weight:")]):t._e(),t._v(" "+t._s(t.question.weight))]),t._v(" "),t.question.subQuestions.length>0?s("span",{staticClass:"question-info"},[t._v("Reading questions:")]):t._e(),t._v(" "),t._l(t.question.subQuestions,function(e,n){return s("div",{key:e.id,staticClass:"card-body"},[s("span",{staticClass:"question-info"},[t._v("Question "+t._s(n+1)+":")]),t._v(" "),s("div",{staticClass:"card-body"},[s("p",[s("span",{staticClass:"question-info"},[t._v("Question text:")]),t._v(" "+t._s(e.questionText))]),t._v(" "),e.answers.length>0?s("span",{staticClass:"question-info"},[t._v("Answers:")]):t._e(),t._v(" "),t._l(e.answers,function(e,n){return s("div",{key:e.uid,staticClass:"row marg"},[s("div",{staticClass:"col-lg-1 no-padd text-center"},[s("span",[s("b",[t._v(t._s(n+1)+")")])])]),t._v(" "),s("div",{staticClass:"col-lg-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"answer.text"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Please enter the answer",disabled:""},domProps:{value:e.text},on:{input:function(s){s.target.composing||t.$set(e,"text",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.correct,expression:"answer.correct"}],attrs:{type:"checkbox",id:e.uid,disabled:""},domProps:{checked:Array.isArray(e.correct)?t._i(e.correct,null)>-1:e.correct},on:{change:function(s){var n=e.correct,i=s.target,r=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&t.$set(e,"correct",n.concat([null])):o>-1&&t.$set(e,"correct",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(e,"correct",r)}}})])])})],2)])})],2):t._e(),t._v(" "),s("div",{staticClass:"card-body"},[s("button",{staticClass:"btn btn-secondary edit-btn",on:{click:function(e){return e.preventDefault(),t.editQuestions(e)}}},[t._v(" Edit ")]),t._v(" "),s("button",{staticClass:"btn btn-danger edit-btn",on:{click:function(e){return e.preventDefault(),t.removeQuestion(e)}}},[t._v(" Delete ")])])])},staticRenderFns:[]};var nt=s("VU/8")(et,st,!1,function(t){s("N1ci")},null,null).exports,it={computed:Object(d.d)({questions:function(t){return t.questions}}),components:{QuestionItem:nt}},rt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",this._l(this.questions,function(t,s){return e("QuestionItem",{key:t.id,attrs:{question:t,index:s}})}))},staticRenderFns:[]},ot=s("VU/8")(it,rt,!1,null,null,null).exports,at={props:["questionId"],computed:{answers:function(){return this.$store.getters.getAnswersByQuestionId(this.questionId)}},methods:G()({},Object(d.b)(["addAnswer","deleteAnswer"]),{createAnswer:function(t,e){var s={text:"",correct:"",questionId:this.questionId};this.addAnswer(s)},removeAnswer:function(t){this.deleteAnswer(t)}})},ut={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",[s("div",{staticClass:"card-body"},t._l(t.answers,function(e,n){return s("div",{key:e.uid,staticClass:"row marg"},[s("div",{staticClass:"col-lg-1 no-padd text-center"},[s("span",[s("b",[t._v(t._s(n+1)+")")])])]),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"answer.text"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Please enter the answer"},domProps:{value:e.text},on:{input:function(s){s.target.composing||t.$set(e,"text",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.correct,expression:"answer.correct"}],attrs:{type:"checkbox",id:e.uid},domProps:{checked:Array.isArray(e.correct)?t._i(e.correct,null)>-1:e.correct},on:{change:function(s){var n=e.correct,i=s.target,r=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&t.$set(e,"correct",n.concat([null])):o>-1&&t.$set(e,"correct",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(e,"correct",r)}}})]),t._v(" "),s("div",{staticClass:"col-lg-1 no-padd text-center"},[s("span",{staticStyle:{color:"#dc3545",cursor:"pointer"},on:{click:function(s){s.preventDefault(),t.removeAnswer(e.uid)}}},[s("b",[t._v("X")])])])])})),t._v(" "),s("div",{staticClass:"answer-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4"},[s("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.createAnswer(e)}}},[t._v("Add answer ")])]),t._v(" "),t._m(0)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-lg-8 padd"},[e("span",{staticClass:"padd"},[e("h6",[this._v("Please add answer for question")])])])}]},ct=s("VU/8")(at,ut,!1,null,null,null).exports,dt={computed:G()({},Object(d.c)(["getReadingText"]),{readingText:{get:function(){return this.getReadingText},set:function(t){this.setReadingText(t)}}},Object(d.d)(["readingQuestions"])),methods:G()({},Object(d.b)(["addReadingQuestion","deleteReadingQuestion","setReadingText"]),{createReadingQuestion:function(t,e){this.addReadingQuestion({questionText:"",questionWeight:1})},removereadingQuestion:function(t){this.deleteReadingQuestion(t)}}),components:{Answers:ct}},lt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",[s("div",{staticClass:"answer-header"},[s("div",{staticClass:"row"},[t._m(0),t._v(" "),s("div",{staticClass:"col-lg-5"},[s("button",{staticClass:"btn btn-success ",on:{click:function(e){return e.preventDefault(),t.createReadingQuestion(e)}}},[t._v("Add Reading Question ")])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.readingText,expression:"readingText"}],staticClass:"form-control",attrs:{placeholder:"Please enter the reading text",id:"readingText",rows:"20"},domProps:{value:t.readingText},on:{input:function(e){e.target.composing||(t.readingText=e.target.value)}}})])]),t._v(" "),t._l(t.readingQuestions,function(e,n){return s("div",{key:e.id,staticStyle:{"margin-top":"20px"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-11"},[s("h4",[t._v("\n            Question - "+t._s(n+1)+"\n          ")])]),t._v(" "),s("div",{staticClass:"col-lg-1 no-padd text-center"},[s("span",{staticStyle:{color:"#dc3545",cursor:"pointer"},on:{click:function(s){s.preventDefault(),t.removereadingQuestion(e.id)}}},[s("b",[t._v("X")])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 "},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.questionText,expression:"readingQuestion.questionText"}],staticClass:"form-control ",attrs:{placeholder:"Please enter the question",id:e.id},domProps:{value:e.questionText},on:{input:function(s){s.target.composing||t.$set(e,"questionText",s.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 "},[s("Answers",{attrs:{questionId:e.id}}),t._v(" "),s("div",{attrs:{id:"errors-"+e.id}})],1)])])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-lg-7"},[e("h4",[this._v("Reading text ")])])}]},vt=s("VU/8")(dt,lt,!1,null,null,null).exports,mt={data:function(){return{types:i}},methods:G()({},Object(d.b)(["setQuestionType"])),computed:{questionType:{get:function(){return this.$store.state.questionType},set:function(t){return this.setQuestionType(t)}}}},_t={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[t._m(0),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.questionType,expression:"questionType"}],staticClass:"question-type-select form-control",attrs:{id:"question-type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.questionType=e.target.multiple?s:s[0]}}},t._l(t.types,function(e,n){return s("option",{key:n,domProps:{value:n}},[t._v(t._s(e))])}))])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticStyle:{display:"block"}},[e("b",[this._v("Choose question type:")])])}]};var pt=s("VU/8")(mt,_t,!1,function(t){s("cwuO")},null,null).exports,ft=s("sUu7"),Tt={data:function(){return{question:{weight:1},answerError:""}},mounted:function(){},computed:G()({},Object(d.c)(["getQuestionText","getAnswersByQuestionId"]),Object(d.d)({questionType:function(t){return t.questionType},questionId:function(t){return t.questionId},readingQuestions:function(t){return t.readingQuestions},readingTextQuestionErrors:function(t){return t.readingTextQuestionErrors}})),methods:G()({},Object(d.b)(["addQuestion"]),{create:function(){var t=this;this.$validator.validateAll().then(function(e){if(e){if("MULTIPLE_CHOICE"===t.questionType&&t.getAnswersByQuestionId(t.questionId).length<2&&(t.answerError="The question must have more than or equal to two answers."),"READING_TEXT"===t.questionType){t.readingTextQuestionErrors=[];for(var s=0;s<t.readingQuestions.length;s++)t.readingQuestions[s].answers.length<2&&(document.getElementById("errors-"+t.readingQuestions[s].id).innerHTML='<span class="error-message">The question must have more than or equal to two answers.<span>',t.readingTextQuestionErrors[t.readingQuestions[s].id]='<span class="error-message">The question must have more than or equal to two answers.<span>')}""===t.answerError&&0===t.readingTextQuestionErrors.length&&(t.question.id=t.questionId,t.addQuestion(t.question).then(function(){t.question={weight:1}}))}})}}),components:{ReadingText:vt,Answers:ct,QuestionTypeSelector:pt}},ht={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"card"},[t._m(0),t._v(" "),s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.create(e)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("QuestionTypeSelector")],1),t._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[t._m(1),t._v(" "),s("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.question.weight,expression:"question.weight"}],class:{"form-control":!0,"has-error":t.errors.has("weight")},attrs:{name:"weight",id:"question-weigth"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.question,"weight",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),s("option",{attrs:{value:"2"}},[t._v("2")]),t._v(" "),s("option",{attrs:{value:"3"}},[t._v("3")]),t._v(" "),s("option",{attrs:{value:"4"}},[t._v("4")]),t._v(" "),s("option",{attrs:{value:"5"}},[t._v("5")])]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("weight"),expression:"errors.has('weight')"}],staticClass:"help error-message"},[t._v("This value should not be blank.")])])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model.trim",value:t.question.text,expression:"question.text",modifiers:{trim:!0}}],class:{"form-control":!0,"has-error":t.errors.has("question")},attrs:{name:"question",type:"text",id:"question-text",rows:"5",placeholder:"Please enter text for question"},domProps:{value:t.question.text},on:{input:function(e){e.target.composing||t.$set(t.question,"text",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("question"),expression:"errors.has('question')"}],staticClass:"help error-message"},[t._v("This value should not be blank.")])]),t._v(" "),s("label",{attrs:{for:""}}),t._v(" "),"USER_INPUT"==t.questionType?s("div",[t._m(2)]):t._e(),t._v(" "),"MULTIPLE_CHOICE"==t.questionType?s("div",[s("Answers",{attrs:{questionId:t.questionId}}),t._v(" "),t.answerError?s("div",[s("span",{staticClass:"error-message"},[t._v("\n              "+t._s(t.answerError)+"\n            ")])]):t._e()],1):t._e(),t._v(" "),"READING_TEXT"==t.questionType?s("div",[s("readingText")],1):t._e(),t._v(" "),s("input",{staticClass:"btn btn-success marg",attrs:{disabled:t.errors.any(),type:"submit",value:"Save question"}})])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h3",[this._v("Create Question ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticStyle:{display:"block"}},[e("b",[this._v("Choose weight:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"answer-header"},[e("h4",[this._v("User must answer of this question ")])])}]};var gt=s("VU/8")(Tt,ht,!1,function(t){s("D4e7")},null,null).exports,Et={mounted:function(){},computed:G()({},Object(d.c)(["getQuestionText"]),Object(d.d)({questionType:function(t){return t.questionType},question:function(t){return t.editedQuestion}})),methods:G()({},Object(d.b)(["saveQuestion"]),{save:function(){var t=this;this.$validator.validateAll().then(function(e){e&&t.saveQuestion(t.question)})}}),components:{ReadingText:vt,Answers:ct,QuestionTypeSelector:pt}},qt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"card"},[t._m(0),t._v(" "),s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[s("div",{staticClass:"form-group right"},[t._m(1),t._v(" "),s("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.question.weight,expression:"question.weight"}],class:{"form-control":!0,"has-error":t.errors.has("weight")},attrs:{name:"weight",id:"question-weigth"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.question,"weight",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),s("option",{attrs:{value:"2"}},[t._v("2")]),t._v(" "),s("option",{attrs:{value:"3"}},[t._v("3")]),t._v(" "),s("option",{attrs:{value:"4"}},[t._v("4")]),t._v(" "),s("option",{attrs:{value:"5"}},[t._v("5")])]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("weight"),expression:"errors.has('weight')"}],staticClass:"help error-message"},[t._v("This value should not be blank.")])]),t._v(" "),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model.trim",value:t.question.text,expression:"question.text",modifiers:{trim:!0}}],class:{"form-control":!0,"has-error":t.errors.has("question")},attrs:{name:"question",type:"text",id:"question-text",rows:"5",placeholder:"Please enter text for question"},domProps:{value:t.question.text},on:{input:function(e){e.target.composing||t.$set(t.question,"text",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("question"),expression:"errors.has('question')"}],staticClass:"help error-message"},[t._v("This value should not be blank.")])]),t._v(" "),s("QuestionTypeSelector"),t._v(" "),s("label"),t._v(" "),"USER_INPUT"==t.question.type?s("div",[t._m(2)]):t._e(),t._v(" "),"MULTIPLE_CHOICE"==t.question.type?s("div",[s("div",{staticClass:"card-body"},[s("Answers",{attrs:{questionId:t.question.id}})],1)]):t._e(),t._v(" "),"READING_TEXT"==t.question.type?s("div",[s("div",{staticClass:"card-body"},[s("readingText")],1)]):t._e(),t._v(" "),s("input",{staticClass:"btn btn-success marg",attrs:{disabled:t.errors.any(),type:"submit",value:"Save Question"}})],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h3",[this._v("Edit Question")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("b",[this._v("Choose weight:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",[this._v("User must answer of this question ")])])])}]};var Ct=s("VU/8")(Et,qt,!1,function(t){s("s0J1")},null,null).exports,wt={props:["courseId"],data:function(){return{headerTitle:"Create test"}},created:function(){this.setCourseId(this.courseId)},computed:Object(d.d)({questions:function(t){return t.questions},testData:function(t){return t.test.data},questionComponent:function(t){return t.questionComponent}}),components:{questionHeader:tt,questions:ot,AddQuestion:gt,EditQuestion:Ct},methods:G()({},Object(d.b)(["createTestRequest","mergeTestData","setCourseId"]),{createTest:function(){this.mergeTestData(),this.createTestRequest(this.testData)}})},xt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("question-header",{attrs:{headerTitle:t.headerTitle}})],1),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("questions"),t._v(" "),this.questions?s("button",{staticClass:"btn btn-success create-test-btn",on:{click:function(e){return e.preventDefault(),t.createTest(e)}}},[t._v("Create test")]):t._e()],1),t._v(" "),s("div",{staticClass:"col-md-6"},[s(t.questionComponent,{tag:"component"})],1)])])},staticRenderFns:[]};var St=s("VU/8")(wt,xt,!1,function(t){s("RmP5")},null,null).exports,It={props:["testId"],data:function(){return{headerTitle:"Edit test"}},created:function(){this.fetchTest(this.testId),this.fetchQuestion(this.testId)},computed:Object(d.d)({questions:function(t){return t.questions},testData:function(t){return t.test},questionComponent:function(t){return t.questionComponent}}),components:{questionHeader:tt,questions:ot,AddQuestion:gt,EditQuestion:Ct},methods:G()({},Object(d.b)(["editTestRequest","mergeTestData","fetchTest","fetchQuestion","fetchSections"]),{editTest:function(){this.testData.data.id=this.testId,this.testData.data.section=this.testData.data.section.id,this.mergeTestData(),this.editTestRequest(this.testData)}})},bt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("question-header",{attrs:{headerTitle:t.headerTitle}})],1),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("questions"),t._v(" "),this.questions?s("button",{staticClass:"btn btn-success create-test-btn",on:{click:function(e){e.preventDefault(),t.editTest()}}},[t._v("\n                Save test\n            ")]):t._e()],1),t._v(" "),s("div",{staticClass:"col-md-6"},[s(t.questionComponent,{tag:"component"})],1)])])},staticRenderFns:[]};var yt=s("VU/8")(It,bt,!1,function(t){s("FWlT")},null,null).exports;o.a.use(Y.a);var Qt=new Y.a({mode:"history",routes:[{path:"/test-new/:courseId",component:St,props:!0},{path:"/test-edit/:testId",component:yt,props:!0}]});o.a.use(ft.a),new o.a({el:"#app",router:Qt,store:J,render:function(t){return t(a.default)}})},RmP5:function(t,e){},cwuO:function(t,e){},s0J1:function(t,e){},v3a6:function(t,e){},xJD8:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c7ad31b897c11da9a52e.js.map